<?xml version="1.0" encoding="UTF-8"?>
<!-- XML Topic Profile: profile_name으로 토픽명 매칭, 최우선 순위 -->
<dds xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles">
    <profiles>
        <!-- Topic B: /sensor_data - XML Topic Profile (1 Pub에 적용) -->
        <topic profile_name="/sensor_data">
            <historyQos>
                <kind>KEEP_LAST</kind>
                <depth>10</depth>
            </historyQos>
            <resourceLimitsQos>
                <max_samples>100</max_samples>
                <max_instances>5</max_instances>
                <max_samples_per_instance>20</max_samples_per_instance>
            </resourceLimitsQos>
        </topic>

        <!-- Topic C: /map - XML Topic Profile (N:1 구조) -->
        <topic profile_name="/map">
            <historyQos>
                <kind>KEEP_LAST</kind>
                <depth>1</depth>
            </historyQos>
            <resourceLimitsQos>
                <max_samples>50</max_samples>
                <max_instances>2</max_instances>
                <max_samples_per_instance>5</max_samples_per_instance>
            </resourceLimitsQos>
        </topic>

        <!-- Topic D: /status - Mixed Priority용 (topic vs entity vs code 충돌) -->
        <topic profile_name="/status">
            <historyQos>
                <kind>KEEP_ALL</kind>
                <depth>3</depth>
            </historyQos>
            <resourceLimitsQos>
                <max_samples>30</max_samples>
                <max_instances>1</max_instances>
                <max_samples_per_instance>10</max_samples_per_instance>
            </resourceLimitsQos>
        </topic>
    </profiles>
</dds>
